<th:block th:fragment="table-usuario">
    <table class="table table-sm crud-table" th:classappend="${#lists.size(pagina.content) >= 1} ? 'table-hover' : ''">
        <thead>
            <tr>
                <th class="text-center">Cargo</th>
                <th>Nome</th>
                <th>Apelido</th>
                <th>Email</th>
                <th class="text-center">Situação</th>
                <th class="text-center">
                    Ações
                </th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="usuario : ${pagina.content}" th:class="${atualizado} ? (${usuario.id == atualizado.id} ? 'table-warning' : '')">
                <td class="text-center">
                    <small th:text="${usuario.cargo ?: 'Não informado'}"></small>
                </td>
                <td>
                    <span th:text="${usuario.nome}"></span>
                </td>
                <td>
                    <span th:text="${usuario.apelido}"></span>
                </td>
                <td>
                    <span th:text="${usuario.email}"></span>
                </td>
                <td class="text-center">
                    <small
                        th:text="${usuario.ativo ? 'Habilitado': 'Bloqueado'}">
                    </small>
                    <i
                        class="ml-2"
                        th:classappend="${usuario.ativo} ? 'fas fa-check text-success' : 'fas fa-ban text-danger'"></i>
                </td>
                <td class="text-center">
                    <div class="btn-group" role="group" aria-label="Botões de ação">
                        <a 
                            role="button"
                            data-toggle="tooltip" data-placement="top" title="Editar"
                            th:href="@{/usuarios/formulario/{id}(id=${usuario.id})}"
                            class="btn btn-sm btn-link text-warning">
                            <i class="fas fa-user-edit"></i>
                        </a>
                        <button 
                            type="button"
                            data-toggle="modal" data-placement="top" th:title="${usuario.ativo ? 'Bloquear': 'Desbloquear'}"
                            th:data-id="${usuario.id}"
                            th:data-nome="${usuario.nome}"
                            th:data-status="${usuario.ativo}"
                            data-target="#modal-alternar-status-usuario"
                            class="btn btn-sm"
                            th:classappend="${usuario.ativo} ? 'btn-link text-danger' : 'btn-link text-success'">
                            <i th:if="${!usuario.ativo}" class="fas fa-user-check"></i>
                            <i th:if="${usuario.ativo}" class="fas fa-user-slash"></i>
                        </button>
                        <button 
                            type="button"
                            data-toggle="modal" data-placement="top" title="Deletar"
                            th:data-id="${usuario.id}"
                            th:data-nome="${usuario.nome}"
                            data-target="#modal-deletar-usuario"
                            class="btn btn-sm btn-link text-danger">
                            <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </td>
            </tr>
            <tr th:if="${#lists.size(pagina.content) == 0}">
                <td colspan="6" class="text-center">
                    Nenhum usuario encontrado.
                </td>
            </tr>
        </tbody>
    </table>
</th:block>